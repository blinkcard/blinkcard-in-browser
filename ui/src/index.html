<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0">
    <title>BlinkCard UI Component</title>

    <script type="module" src="../dist/blinkcard-in-browser/blinkcard-in-browser.esm.js"></script>
    <style type="text/css">
      html,
      body {
        margin: 0;
        padding: 0;

        width: 100%;
        height: 100%;
      }

      html {
        font-family: "Avenir Next", sans-serif;
      }

      body {
        background-color: #fff;
        box-sizing: border-box;

        display: flex;
        justify-content: center;
        align-items: center;

        padding: 20px;
      }

      blinkcard-in-browser {
        max-width: 400px;

        /* Customization of UI - see variables in src/components/shared/styles/_globals.scss */
        /*
        --mb-component-background: red;
        --mb-component-action-label: none;
        --mb-component-border-width: 0;
        --mb-component-action-buttons-width: 100%;
        --mb-component-action-buttons-justify-content: space-evenly;
        --mb-component-button-size: 48px;
        --mb-component-button-border-radius: 24px;
        */
      }
    </style>
  </head>
  <body>
    <!-- Add attribute 'hide-loading-and-error-ui="true"' to hide component during loading and to hide possible error messages -->
    <!-- First way of setting recognizers is to define them as HTML attribute -->
    <!--
      Change default icons via HTML attribute:
      <blinkcard-in-browser icon-camera="https://lh3.googleusercontent.com/proxy/GzpbA9MhjkACfucnJ4KunNfMzKv10e6cy418zEjQYdKB7Xbzwh7IYjio0X0CBLdWrd7nw5ZHvkCXS4cQ2YaZ5JGjGTMLPmQO5dH4xaJODXoriGpdbjwAkO8ismEoSaRe1Q"></blinkcard-in-browser>

      ---

      Set translations via HTML attribute:

      <blinkcard-in-browser translations='{ "action-message": "Do something else" }'></blinkcard-in-browser>

      Note the single quotes!

      PROPER
      sRwAAAYJbG9jYWxob3N0r/lOPmg/w35CpOHWLGIazYJQwcjxeYUvc+qBUjt2e9ats0vhsKxCDdUE877nn9Jjl8r7QKJp/gHo2vazSnAvWwxxX7Riw47m5vTix0jCPH/181SukGli5PkrjthcyishYahCMRg8NQe9LccSXMcYR/KHNci1R+GbqI/EfcX2MD1qLEc5KFUYKEKivxB+wfIkhHJWXupsZYgDPh2K0VOkRhN38UzemXMRoCFBEZPwHg==
    -->
    <blinkcard-in-browser license-key="sRwAAAYJbG9jYWxob3N0r/lOPmg/w35CpOFWLFI5Y0tJm2c0aAO8uPOBiSkwNUZ8MODEryzW2ToCt1JU31zfglSJJrNia8cUu6SeeyvgTJOr2YY41eGwY+1w/yDIja/go17Wph8h1zlq8Fa9dNlvSdYnB76RhozaK0BpTebyyR2aJO7jDdvWUjaW1USesZq/YpYCiBRyfnq2MCYdyxqxeqqLNOA0Ctr3f8hfV2NmGSEHa8vOGQJcJhbz9hI0kmT8XA==" recognizers="BlinkCardRecognizer" include-success-frame="true" scan-from-camera="true" dir="rtl"></blinkcard-in-browser>

    <script type="text/javascript">

var parcelRequire;
// Important: if attributes or properties are changed, whole component is rerendered
const blinkCard = document.querySelector('blinkcard-in-browser');

blinkCard.engineLocation = window.location.origin + '/resources';
blinkCard.workerLocation = window.location.origin + `/resources/BlinkCardWasmSDK.worker.min.js`;
blinkCard.showScanningLine = true;

// Second way of setting recognizers is to set property "recognizers"
//blinkCard.recognizers = ['BlinkCardRecognizer'];

// Set desired recognizer options
blinkCard.recognizerOptions = {
  'BlinkCardRecognizer': {

  }
};

// Second way of changing translations, see src/utils/translations.ts for possible translation keys
/*blinkCard.translations = {
  'action-message': 'Do something'
};*/

blinkCard.addEventListener('fatalError', (ev) => {
  console.log('fatalError', ev.detail);
});

blinkCard.addEventListener('ready', (ev) => {
  console.log('ready', ev.detail);
});

blinkCard.addEventListener('scanError', (ev) => {
  console.log('scanError', ev.detail);
});

blinkCard.addEventListener('scanSuccess', (ev) => {
  console.log('scanSuccess', ev.detail);
});

blinkCard.addEventListener('feedback', (ev) => {
  console.log('feedback', ev.detail);
});

// DEVELOPMENT HELPERS
window.setAttribute = (attribute, value) => {
  blinkCard.setAttribute(attribute, value);
};
</script>
  </body>
</html>
